<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />  <!-- 이게 없으면 한글이 깨진다. -->
  <title>Chapter10 DOM(문서 객체 모델)</title>
</head>

<body>
  <h1>궤도를 따라 이동하는 지구와 달</h1>
  <h1 id='sun'>@</h1>
  <h1 id='earth'>0</h1>
  <h1 id='moon'>*</h1>
</body>
</html>


<!--==========================================================================================================-->


<!--
    DOM (Document Object Model, 문서 객체 모델)
    - HTML태그를 자바스크립트에서 이용할 수 있는 객체로 만든 것.
    - 넓은 의미로, 웹 브라우저가 HTML페이지를 인식하는 방식
    - 좁은 의미로, document 객체와 관련된 객체의 집합.
    - HTML페이지에 태그를 추가, 조회, 수정, 삭제(CRUD)할 수 있다.
-->

<script>
  'use strict';  //엄격하게 문법을 검사
  
  window.onload = function() {
    var sun = document.getElementById('sun');
    var earth = document.getElementById('earth');
    var moon = document.getElementById('moon');

    sun.style.left = 300 + 'px';
    sun.style.top = 250 + 'px';
    sun.style.position = 'absolute';
    earth.style.position = 'absolute';
    moon.style.position = 'absolute';

    //변수를 선언합니다
    var earthAngle = 0;
    var moonAngle = 0;

    //애니메이션을 시작합니다    
    setInterval(function() {
      //각도로 지구와 달의 좌표를 구합니다
      var earthLeft = 300 + 150 * Math.cos(earthAngle);
      var earthTop  = 250 + 150 * Math.sin(earthAngle);
      var moonLeft  = earthLeft + 50 * Math.cos(moonAngle);
      var moonTop   = earthTop + 50 * Math.sin(moonAngle);

      //위치를 이동합니다
      earth.style.left = earthLeft + 'px';
      earth.style.top = earthTop + 'px';
      moon.style.left = moonLeft + 'px';
      moon.style.top  = moonTop + 'px';

      //각도를 변경합니다
      earthAngle += 0.1;
      moonAngle  += 0.3;

    }, 1000/30);
  };
</script>